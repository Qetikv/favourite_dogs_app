import 'package:flutter/material.dart';
import 'package:namer_app/services/dog_api_service.dart';

class MyAppState extends ChangeNotifier {
  List<String> favorites = [];
  String imageUrl = 'data:image/jpeg;base64,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';
  bool loading = false;
  bool liked = false;

  void addToFavorites(String imageUrl) {
    if (favorites.contains(imageUrl)) {
      favorites.remove(imageUrl);
    } else {
      favorites.add(imageUrl);
    }
    liked = favorites.contains(imageUrl);
    notifyListeners();
  }

  void removeFromFavorites(String imageUrl) {
    favorites.remove(imageUrl);
    liked = false;
    notifyListeners();
  }

  Future<void> fetchRandomImage() async {
    loading = true; 
    liked = false;
    notifyListeners();
    try {
      imageUrl = '';
      imageUrl = await DogApiService().fetchRandomImage();
    } catch (e) {
      print('Error fetching image: $e');
    } finally {
      loading = false;
      notifyListeners();
    }
  }
}
